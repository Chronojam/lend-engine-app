<!-- borrow modal loaded into member site item page -->
{% trans_default_domain 'member_site' %}
<div id="borrowModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">

                <div style="padding-bottom: 10px; border-bottom: 1px dotted #ccc;">
                    {% if tenantInformation.fixedFeePricing %}
                        <strong>
                            {% trans %}Fee{% endtrans %}:
                            {{ tenantInformation.currencySymbol }} {{ itemFee|number_format(2) }}
                            {% trans %}per_borrow{% endtrans %}
                        </strong>
                    {% elseif product.maxLoanDays == 1 and dailyFee > 0 %}
                        <strong>
                            {% trans %}Fee{% endtrans %}:
                            {{ tenantInformation.currencySymbol }} {{ dailyFee|number_format(2) }}
                            {% trans %}per_day{% endtrans %}
                        </strong>
                    {% elseif dailyFee > 0 %}
                        <strong>
                            {% trans %}Fee{% endtrans %}:
                            {{ tenantInformation.currencySymbol }} {{ dailyFee|number_format(2) }}
                            {% trans %}per_day{% endtrans %}
                        </strong>
                    {% endif %}

                    {% if minLoanDays %}
                        <div style="padding-right: 20px">
                            Minimum {{ minLoanDays|number_format(0) }} {% transchoice minLoanDays %}days{% endtranschoice %}
                        </div>
                    {% endif %}

                    {% if maxLoanDays %}
                        <div style="padding-right: 20px">
                            Maximum {{ maxLoanDays|number_format(0) }} {% transchoice maxLoanDays %}days{% endtranschoice %}
                        </div>
                    {% endif %}

                    {% if reservationFee > 0 %}
                        <div>
                            {{ tenantInformation.currencySymbol }} {{ reservationFee|number_format(2) }}
                            {% trans %}note_reservation_fee_will_be_added{% endtrans %}.
                            <input type="hidden" name="booking_fee" value="{{ reservationFee }}">
                        </div>
                    {% endif %}

                    {% if is_granted('ROLE_ADMIN') %}
                        <div style="padding-top: 10px;">
                            As an administrator you are not limited to any minimum/maximum.
                            <input type="checkbox" id="chooseAnyDates" checked style="display:none">
                        </div>
                    {% endif %}
                </div>


                {% if tenantInformation.basket is defined
                and tenantInformation.basket
                and tenantInformation.basket.loanRows|length > 0 %}
                    <div class="alert alert-info">
                        <span class="pull-left" style="font-size: 34px; padding-right: 20px; margin-top: -5px">
                            <i class="fa fa-info-circle"></i>
                        </span>
                        {% trans %}public_item.basket_exists{% endtrans %}
                    </div>
                {% endif %}

                <div class="row">
                    <div class="col-md-3" style="padding-bottom: 20px;">
                        <h4>{% trans %}public_item.pickup_at{% endtrans %} ...</h4>
                        <div>
                            <a href="javascript:void(0);" class="show_date_from" id="choosePickup"></a> &nbsp;
                            <a href="javascript:void(0);" class="time ui-timepicker-input show_time_from" id="time_from_picker"></a>
                        </div>
                        <div class="site_from multi-site"></div>
                        <button type="button" class="btn btn-success" data-dismiss="modal" id="choosePickupButton">
                            {% trans %}public_item.button_choose_pickup{% endtrans %}
                        </button>
                        {#{% if is_granted('ROLE_ADMIN') %}#}
                            {#<br>#}
                            {#<button type="button" class="btn btn-xs btn-default" style="margin-top: 10px; display:none" id="buttonToday">Today</button>#}
                        {#{% endif %}#}
                    </div>
                    <div class="col-md-1 hidden-sm hidden-xs" style="padding-top: 20px; font-size: 26px;"><i class="fas fa-angle-double-right"></i></div>
                    <div class="col-md-3" style="padding-top:10px;">
                        <div style="font-size: 20px;">
                            <span class="count_days">0</span> {% transchoice 2 %}days{% endtranschoice %}
                        </div>
                        <div style="font-weight: bold; font-size: 20px;">
                            {{ tenantInformation.currencySymbol }} <span class="total_fee">0</span>
                        </div>
                    </div>
                    <div class="col-md-1 hidden-sm hidden-xs" style="padding-top: 20px; font-size: 26px;"><i class="fas fa-angle-double-right"></i></div>
                    <div class="col-md-4" style="padding-bottom: 20px;">
                        <h4>{% trans %}public_item.return_by{% endtrans %} ...</h4>
                        <div>
                            <a href="javascript:void(0);" class="show_date_to chooseReturn" data-dismiss="modal" id="chooseReturn"></a> &nbsp;
                            <a href="javascript:void(0);" class="time ui-timepicker-input show_time_to" id="time_to_picker"></a>
                        </div>
                        <div class="site_to multi-site"></div>
                        <div class="data-help" id="choosePickupFirst">{% trans %}public_item.choose_pickup_first{% endtrans %}</div>

                        <br>
                        <button type="button" class="btn btn-xs btn-success chooseReturnButton" data-dismiss="modal" id="chooseReturnButton" style="margin-top: 10px; display: none">
                            {% trans %}public_item.button_choose_return{% endtrans %}
                        </button>
                    </div>
                </div>

                <div class="row" id="booking-help">
                    <div class="col-md-12">Click a date or time to change your booking.</div>
                </div>

                {#<div class="alert alert-warning credit-warning" style="margin-top: 6px; display: none">#}
                {#Your balance of {{ tenantInformation.currencySymbol }} {{ contactBalance|number_format(2) }} will not cover this fee.<br>#}
                {#<a href="{{ path('add_credit') }}">{% trans %}button_add_credit{% endtrans %}</a> first.#}
                {#</div>#}
            </div>

            <div class="modal-footer">
                <a href="" class="btn btn-default borrowModalCancel pull-left">{% trans %}button_cancel{% endtrans %}</a>

                <button type="submit" class="btn btn-success pull-right" id="borrowModalConfirm" style="display: none;">
                    {% trans %}public_item.basket_add{% endtrans %}
                </button>
            </div>
        </div>
    </div>
</div>